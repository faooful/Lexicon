(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4638:function(e,t,s){Promise.resolve().then(s.bind(s,1008))},1008:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var l=s(7437),n=s(2265);let r="AEIOU",a="BCDFGHJKLMNPQRSTVWXYZ",i=["CAT","DOG","BAT","RAT","HAT","MAT","SIT","RUN","BIG","RED"],d={2:1,3:2,4:3,5:5,6:8,7:13,8:21,9:34,10:55};function c(){let[e,t]=(0,n.useState)([]),[s,c]=(0,n.useState)([]),[o,m]=(0,n.useState)(""),[x,u]=(0,n.useState)("start"),[h,b]=(0,n.useState)([]),[g,f]=(0,n.useState)(""),[p,N]=(0,n.useState)(0),[j,v]=(0,n.useState)(1),[y,w]=(0,n.useState)(!1),[S,C]=(0,n.useState)(null),[L,k]=(0,n.useState)(30),[E,T]=(0,n.useState)(!1),[A,M]=(0,n.useState)(null),[I,B]=(0,n.useState)({selectedLetter:0,points:0,time:30,showBonus:!1,bonus:2,usedLetters:[!1,!1,!1]});(0,n.useEffect)(()=>{let t=t=>{if("playing"!==x)return;let s=t.key.toUpperCase();if("BACKSPACE"===s)W();else if("ENTER"===s)U();else if("ABCDEFGHIJKLMNOPQRSTUVWXYZ".includes(s)){let t=e.map((e,t)=>({letter:e,index:t})).filter(e=>{let{letter:t,index:l}=e;return t===s&&!h[l]});if(t.length>0){let e=t[0].index;C(e),setTimeout(()=>C(null),500),O(s,e)}}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,h,o,x]),(0,n.useEffect)(()=>{let e;return E&&L>0&&"playing"===x&&(e=setInterval(()=>{k(e=>e<=1?(u("lost"),T(!1),0):e-1)},1e3)),()=>clearInterval(e)},[E,L,x]),(0,n.useEffect)(()=>{if(null!==A){let e=setTimeout(()=>{M(null)},1e3);return()=>clearTimeout(e)}},[A]),(0,n.useEffect)(()=>{if("start"===x){let e=setInterval(()=>{B(e=>{let t=(e.selectedLetter+1)%3,s=0===t,l=s?e.time+2:e.time-1,n=[...e.usedLetters];return 0===t?n.fill(!1):n[e.selectedLetter]=!0,{selectedLetter:t,points:s?e.points+2:e.points,time:l,showBonus:s,bonus:2,usedLetters:n}})},1e3);return()=>clearInterval(e)}},[x]);let W=()=>{if(0===o.length)return;let t=o[o.length-1],s=[...h].reverse().findIndex((s,l)=>s&&e[e.length-1-l]===t);if(-1!==s){let t=e.length-1-s;m(e=>e.slice(0,-1)),b(e=>{let s=[...e];return s[t]=!1,s})}},P=e=>{let t=[],s=Math.max(2,Math.floor(.3*e)),l=e-s;for(let e=0;e<s;e++)t.push(r[Math.floor(Math.random()*r.length)]);for(let e=0;e<l;e++)t.push(a[Math.floor(Math.random()*a.length)]);return t.sort(()=>Math.random()-.5)},Y=()=>{t(P(10)),c([]),m(""),u("playing"),b(Array(10).fill(!1)),f(""),N(0),v(1),w(!1),C(null),k(30),T(!0)},G=()=>{t([...e,...P(5)]),b(Array(e.length+5).fill(!1)),v(e=>e+1),w(!0),setTimeout(()=>w(!1),2e3)},O=(e,t)=>{h[t]||(C(t),setTimeout(()=>C(null),500),m(t=>t+e),b(e=>{let s=[...e];return s[t]=!0,s}))},R=async e=>{if(s.includes(e))return{valid:!1,error:"Word already used"};if(3===e.length&&i.includes(e))return{valid:!0};try{let t=await fetch("".concat("https://api.dictionaryapi.dev/api/v2/entries/en/").concat(e.toLowerCase())),s=await t.json();return{valid:Array.isArray(s)&&s.length>0,error:"Not a valid word"}}catch(e){return console.error("Error checking word:",e),{valid:!1,error:"Error checking word"}}},U=async()=>{if(o.length<2){f("Word must be at least 2 letters long");return}let{valid:t,error:l}=await R(o);if(!t){f(l||"Not a valid word");return}f("");let n=[...s,o];c(n);let r=d[o.length]||0;N(e=>e+r),k(e=>e+r),M(r),m(""),b(Array(e.length).fill(!1)),(3===n.length||6===n.length)&&G(),10===n.length&&(u("won"),T(!1))},_=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"));return(0,l.jsx)("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:"start"===x?(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"bg-blue-50 p-6 rounded-lg mb-8",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,l.jsx)("div",{className:"flex gap-2",children:["C","A","T"].map((e,t)=>(0,l.jsx)("div",{className:"w-10 h-10 rounded-md flex items-center justify-center text-xl font-bold transition-all duration-200 ".concat(I.usedLetters[t]?"bg-gray-300 text-gray-500":I.selectedLetter===t?"bg-blue-600 text-white":"bg-blue-500 text-white"),style:{transform:I.selectedLetter===t?"translateY(-8px)":"translateY(0)",transition:"transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:e},e))}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Click or type letters to form words"})]}),(0,l.jsxs)("div",{className:"flex justify-center items-center space-x-8",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"text-4xl font-bold text-blue-500/30",children:I.points}),I.showBonus&&(0,l.jsxs)("div",{className:"absolute -top-6 right-0 text-green-500 font-bold animate-bounce",children:["+",I.bonus]}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Points"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"text-4xl font-bold ".concat(I.time<10?"text-red-500":"text-blue-500/30"),children:_(I.time)}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Time"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-left",children:[(0,l.jsxs)("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-800 mb-1",children:"Level Up"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"New letters every 3 words"})]}),(0,l.jsxs)("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-800 mb-1",children:"Win Condition"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"Make 10 words to win"})]}),(0,l.jsxs)("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-800 mb-1",children:"Time Bonus"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"Each word adds time"})]}),(0,l.jsxs)("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-800 mb-1",children:"Controls"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"Type or click to play"})]})]})]})}),(0,l.jsx)("button",{onClick:()=>{Y(),u("playing")},className:"px-8 py-3 bg-blue-500 text-white rounded-lg text-lg font-semibold hover:bg-blue-600 transition-colors duration-200",children:"Start Game"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-semibold",children:["Level: ",j]}),(0,l.jsxs)("div",{className:"text-lg font-semibold",children:["Points: ",p]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"text-4xl font-bold ".concat(L<10?"text-red-500":"text-blue-500/30"),children:_(L)}),null!==A&&(0,l.jsxs)("div",{className:"absolute -top-6 right-0 text-green-500 font-bold animate-bounce",children:["+",A]})]})]}),y&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-green-100 text-green-800 rounded-md text-center font-bold animate-bounce",children:"Level Up! New letters added!"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Current Letters"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((e,t)=>(0,l.jsx)("button",{onClick:()=>O(e,t),disabled:h[t],className:"w-10 h-10 rounded-md flex items-center justify-center text-xl font-bold transition-all duration-200 ".concat(h[t]?"bg-gray-300 text-gray-500 cursor-not-allowed":S===t?"bg-blue-600 text-white":"bg-blue-500 text-white hover:bg-blue-600 hover:scale-105"),style:{transform:S===t?"translateY(-8px)":"translateY(0)",transition:"transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:e},t))})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Current Word"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"flex-1 p-2 border rounded-md min-h-[40px]",children:o.split("").map((e,t)=>(0,l.jsx)("span",{className:"inline-block",children:e},t))}),(0,l.jsx)("button",{onClick:()=>{m(""),b(Array(e.length).fill(!1)),f("")},className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors duration-200",children:"Clear"})]}),g&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-2 animate-shake",children:g})]}),(0,l.jsx)("button",{onClick:U,disabled:o.length<2,className:"w-full py-2 bg-green-500 text-white rounded-md hover:bg-green-600 disabled:bg-gray-300 transition-colors duration-200",children:"Submit Word"}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold mb-2",children:["Words Made (",s.length,"/10)"]}),(0,l.jsx)("div",{className:"space-y-2",children:s.map((e,t)=>(0,l.jsxs)("div",{className:"p-2 bg-gray-100 rounded-md flex justify-between items-center animate-slide-in",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,l.jsx)("span",{children:e}),(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:["+",d[e.length]||0," points"]})]},t))})]}),"playing"!==x&&(0,l.jsxs)("div",{className:"mt-6 p-4 bg-blue-100 rounded-md animate-fade-in",children:[(0,l.jsx)("p",{className:"text-center font-semibold",children:"won"===x?"Congratulations! You won!":"Game Over!"}),(0,l.jsxs)("p",{className:"text-center mt-2",children:["Final Score: ",p," points"]}),(0,l.jsx)("button",{onClick:Y,className:"w-full mt-2 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors duration-200",children:"Play Again"})]})]})})}function o(){return(0,l.jsxs)("main",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-4",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-8 text-gray-800",children:"Lexicon"}),(0,l.jsx)(c,{})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4638)}),_N_E=e.O()}]);